---
title: Flyway
author: essviv
date: 2017-01-25 10:20:54+0800
---

# Flyway

Flyway的命令包括：

* migrate: 将DB升级到最新的版本

* clean: 清空数据库中所有的数据，注意这条命令只能在集成环境或测试环境中执行，严禁在生产环境中执行

* info: 显示当前所有升级脚本的执行情况，显示pending、fail或者是success

* validate: 检查当前的升级脚本的情况，包括：
	1. 之前升级过的脚本是否被修改
	2. 所有的升级脚本是否被执行

* baseline: 对于已经有数据（包括结构和数据）的数据库而言，可以通过baseline命令进行基线处理，在定义了基线后，后续所有的升级都只会针对大于基线版本的升级脚本进行<br>
另外，值得注意的是，定义成基线版本的那个脚本不会被运行，原因是基线版本就是定义目前数据库中已经有的数据和结构，不需要再次执行. 当需要新建另一个数据库时，可以直接运行基本版本生成相应的数据.

* repair: 在升级出现错误的情况下，flyway会在meta-table中产生一条错误信息，通过repair命令可以将这条消息删除，然后继续运行相应版本的升级脚本

flyway支持多种运行模式，可以通过commandLine、java、maven插件等方式运行.


# 参考文档

1. https://flywaydb.org/documentation/